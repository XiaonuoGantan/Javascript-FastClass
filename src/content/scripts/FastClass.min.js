(function(){function i(){}var r;String.prototype.format||(r={},String.prototype.format=function(){for(var t=this,i=arguments,n=i.length;--n>=0;)t=t.replace(r[n]||(r[n]=RegExp("\\{"+n+"\\}","gm")),i[n]);return t},String.format||(String.format=function(n){for(var i=arguments,t=i.length;--t;)n=n.replace(r[t-1]||(r[t-1]=RegExp("\\{"+(t-1)+"\\}","gm")),i[t]);return n}));var t=Function.prototype,f=Array.prototype,u=f.forEach,n={};if(n=n.__proto__===Object.prototype,n)try{n={},n.__proto__={Object:1},n=n.Object===1}catch(e){n=!1}u||(f.forEach=u=function(n,t){for(var i=0,r=this.length;i<r;++i)n.call(t||this,this[i],i,this)}),t.fastClass=function(n){var u=this,f=this.prototype,i,r;return n=n||function(){this.constructor=function(){u.apply(this,arguments)}},n.prototype=f,i=new n(f,this),i.hasOwnProperty("constructor")||(i.constructor=function(){u.apply(this,arguments)}),r=i.constructor,r.prototype=i,n=null,arguments.length>1&&t.define.apply(r,arguments),r},t.inheritWith=n?function(n){var u=this,i=n.call(this,this.prototype,this)||{},r=i.hasOwnProperty("constructor")?i.constructor:function(){u.apply(this,arguments)};return r.prototype=i,i.__proto__=this.prototype,n=null,arguments.length>1&&t.define.apply(r,arguments),r}:function(n){var f=this,u=n.call(this,this.prototype,this)||{},r=u.hasOwnProperty("constructor")?u.constructor:function(){f.apply(this,arguments)},e;return i.prototype=this.prototype,r.prototype=e=new i,n=u,t.define.apply(r,arguments),r},t.define=function(n,t){var o=this,r=this.prototype,f=n,e;if(n){typeof n=="function"&&(n=n.call(r,this.prototype,this));for(e in n)r[e]=n[e]}return n=null,(arguments.length>2||t)&&("__mixins__"in r||Object.defineProperty(r,"__mixins__",{enumerable:!1,value:[],writeable:!1}))&&u.call(arguments,function(n,t,u,f){if(f=typeof n=="function",f?(i.prototype=n.prototype,u=new i):u=n,u)for(var e in u)f&&r.__mixins__.push(n),r[e]=u[e]}),this},Function.define=function(n,r){var u,f=n||function(){};return n=r,r=null,arguments.length>1&&t.define.apply(f,arguments),u=function(){Function.initMixins(this),f.apply(this,arguments)},i.prototype=f.prototype,u.prototype=new i,u},Function.initMixins=function(t){for(var i=t,u,e,r,f,o={};i;)if(i=n?i.__proto__:Object.getPrototypeOf(i),i&&i.hasOwnProperty("__mixins__")&&(u=i.__mixins__)&&(e=u.length))for(r=0;f=u[r],r<e;r++)f in o||(o[f]=1,u[r].call(t,i,i.constructor))}})();